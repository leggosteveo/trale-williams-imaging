if (self.CavalryLogger) { CavalryLogger.start_js(["sfMlF"]); }

__d('EntityPresenceManager',['Arbiter','ChannelConstants','EntityPresenceConfig','RTISubscriptionManager','UserActivity'],(function a(b,c,d,e,f,g){'use strict';var h='entity_presence',i={users:0,activePing:null,start:function k(){this.users++;if(c('EntityPresenceConfig').activePingEnabled){c('RTISubscriptionManager').activePing();if(this.activePing===null)this.activePing=setInterval(function(){if(c('UserActivity').isOnTab()){c('RTISubscriptionManager').activePing();c('Arbiter').inform(c('ChannelConstants').ENTITY_PRESENCE_ACTIVE_PING)}},c('EntityPresenceConfig').activePingFrequency);}},stop:function k(){this.users--;if(this.users==0&&this.activePing!==null){clearInterval(this.activePing);this.activePing=null}}},j={enter:function k(l,m){var n=h+'/'+l+'/'+m,o=c('RTISubscriptionManager').subscribe(n,function(){});i.start();return {called:false,leave:function p(){if(this.called)return;i.stop();o.fastUnsubscribe();this.called=true}}}};f.exports=j}),null);
__d("EntityPresenceTypeEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({GMS_SRT:"gms_srt",LIVE_VIDEO:"live_video"})}),null);
__d('FacecastStreamingCommentHealthTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:FacecastStreamingCommentHealthLoggerConfig',this.$FacecastStreamingCommentHealthTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:FacecastStreamingCommentHealthLoggerConfig',this.$FacecastStreamingCommentHealthTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$FacecastStreamingCommentHealthTypedLogger1={};return this};h.prototype.updateData=function(j){this.$FacecastStreamingCommentHealthTypedLogger1=babelHelpers['extends']({},this.$FacecastStreamingCommentHealthTypedLogger1,j);return this};h.prototype.setAppID=function(j){this.$FacecastStreamingCommentHealthTypedLogger1.appid=j;return this};h.prototype.setAppversion=function(j){this.$FacecastStreamingCommentHealthTypedLogger1.appversion=j;return this};h.prototype.setClientUserID=function(j){this.$FacecastStreamingCommentHealthTypedLogger1.client_userid=j;return this};h.prototype.setCommentID=function(j){this.$FacecastStreamingCommentHealthTypedLogger1.comment_id=j;return this};h.prototype.setGqlsContext=function(j){this.$FacecastStreamingCommentHealthTypedLogger1.gqls_context=j;return this};h.prototype.setProtocol=function(j){this.$FacecastStreamingCommentHealthTypedLogger1.protocol=j;return this};h.prototype.setSessionID=function(j){this.$FacecastStreamingCommentHealthTypedLogger1.session_id=j;return this};h.prototype.setVC=function(j){this.$FacecastStreamingCommentHealthTypedLogger1.vc=j;return this};var i={appid:true,appversion:true,client_userid:true,comment_id:true,gqls_context:true,protocol:true,session_id:true,vc:true};f.exports=h}),null);
__d("LiveVideoCurrentlyWatchingViewersQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1756845024340619"};j.getQueryID=function(){"use strict";return "276588582806153"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("UFILiveVideoAnnouncementQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1481223005303189"};j.getQueryID=function(){"use strict";return "1472251976201226"};function j(){"use strict";h.apply(this,arguments)}return j}()}),null);
__d("LiveVideoCommentCreateWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1983479615011055",queryID:"1836444896382196"})}),null);
__d('UFILiveVideoCommentSubscription',['BaseGraphQLSubscription','GraphQLSubscriptionsConfig','LiveVideoCommentCreateWebGraphQLSubscription','uuid'],(function a(b,c,d,e,f,g){var h=babelHelpers['extends']({},c('BaseGraphQLSubscription'),{_getTopic:function i(j){return 'gqls/live_video_comment_create_subscribe/feedback_id_'+j},_getQueryID:function i(){return c('GraphQLSubscriptionsConfig').shouldUseGraphQL2DocumentIDs?c('LiveVideoCommentCreateWebGraphQLSubscription').getDocID():c('LiveVideoCommentCreateWebGraphQLSubscription').getLegacyQueryID()},_getQueryParameters:function i(j){return {input:JSON.stringify({client_subscription_id:c('uuid')(),feedback_id:j})}},_getSubscriptionCallName:function i(){return 'live_video_comment_create_subscribe'}});f.exports=h}),null);
__d("VideoAnnouncementSurface",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({POST:"post",STORIES:"stories",ALL:"all"})}),null);
__d("XLiveStreamingCommentsAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/videos\/livecomments\/",{eft_id:{type:"String",required:true}})}),null);
__d("XLiveStreamingRankingExperimentAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/videos\/livecomments\/exp\/",{eft_id:{type:"String",required:true}})}),null);
__d('UFILiveStreamingComments',['fbt','Arbiter','AsyncRequest','BanzaiODS','CurrentUser','EntityPresenceManager','EntityPresenceTypeEnum','FacecastStreamingCommentDelayTypedLogger','FacecastStreamingCommentHealthTypedLogger','FeedbackSourceType','LiveVideoCurrentlyWatchingVideoPresenceConfig','LiveVideoCurrentlyWatchingViewersQueryWebGraphQLQuery','Map','Set','StreamingReactionsTrayEvents','TimeSlice','UFICentralUpdates','UFIConfig','UFIConstants','UFIFeedbackTargets','UFILiveStreamingCommentsConfig','UFILiveVideoAnnouncementQueryWebGraphQLQuery','UFILiveVideoCommentSubscription','UFIStreamingStateType','UFISubscriptionUpdates','UFIToplevelStreamedCommentList','VideoAnnouncementSurface','VideoBroadcastStatus','XLiveStreamingCommentsAsyncController','XLiveStreamingRankingExperimentAsyncController','clearInterval','setInterval','uuid'],(function a(b,c,d,e,f,g,h){'use strict';var i=new (c('Map'))(),j=10000,k=10000,l=10000,m=7000,n=2000;c('BanzaiODS').setEntitySample('feedback',.0001);function o(p,q,r,s,t,u,v,w,x){var y,z=this;this.eftID=p;this.totalCommentCount=q;this.tailCommentFBID=r;this.queue=[];this.ufiPayloadBuffer=[];this.fireworksAnimating=false;this.liveVideoAnnouncements=[];this.liveVideoCachedCurrentViewers=new (c('Set'))();this.liveVideoCurrentViewerFetchCounter=0;this.localCommentBodies=new (c('Set'))();this.mayShortCircuitRendering=false;this.mayLogExposure=true;this.isViewerTheOwner=u;this.isLiveAudio=v;this.hasDisplayedFirstViewerJoinEvent=false;this.contextArgs=x;this.interval=c('setInterval')(function(){return this.renderNextComment()}.bind(this),c('UFILiveStreamingCommentsConfig').liveCommentRenderDelayMS);var aa=Date.now();c('UFIFeedbackTargets').getFeedbackTarget(this.eftID,function(ba){this.subscription=c('UFILiveVideoCommentSubscription').subscribe(ba.targetfbid,function(ca){c('UFISubscriptionUpdates').handleLiveStreamingComment(this.eftID,ca.live_video_comment_create_subscribe,Date.now()-aa)}.bind(this))}.bind(this));if(c('UFIConfig').shouldLogFacecastStreamingCommentDelay)(function(){var ba=c('uuid')();z.healthLoggerInterval=c('setInterval')(function(){var ca=new (c('FacecastStreamingCommentHealthTypedLogger'))().setCommentID(this.tailCommentFBID).setSessionID(ba);if(this.subscription)ca.setGqlsContext(this.subscription.getContext().transformContext);ca.log()}.bind(z),k)})();if(s){this.$UFILiveStreamingComments1(true,w);this.liveVideoAnnouncementFetchInterval=c('setInterval')(function(){this.$UFILiveStreamingComments1(false)}.bind(this),l)}if(t){this.liveVideoCurrentViewerFetchInterval=c('setInterval')(function(){var ba=c('LiveVideoCurrentlyWatchingViewersQueryWebGraphQLQuery').getURI({video_id:this.eftID});new (c('AsyncRequest'))().setURI(ba).setHandler(function(ca){this.$UFILiveStreamingComments2(ca.payload)}.bind(this)).send();this.liveVideoCurrentViewerFetchCounter+=1}.bind(this),n);if(!v&&c('LiveVideoCurrentlyWatchingVideoPresenceConfig').videoPresenceGK)this.presenceToken=c('EntityPresenceManager').enter(c('EntityPresenceTypeEnum').LIVE_VIDEO,this.eftID);}c('UFICentralUpdates').subscribe('update-comments',function(ba,ca){if(ca.comments&&ca.comments.length)ca.comments.forEach(function(da){if(da.parentcommentid)return;if(da.__typename==='local')this.trackLocalComment(da);}.bind(this));}.bind(this));c('Arbiter').subscribe(c('StreamingReactionsTrayEvents').FireworksAnimating,function(ba,ca){this.fireworksAnimating=ca;if(this.fireworksAnimating){clearTimeout(this.timeoutID);this.timeoutID=setTimeout(c('TimeSlice').guard(function(){if(this.fireworksAnimating){this.fireworksAnimating=false;c('BanzaiODS').bumpEntityKey('streaming_comments','comment_fetching_unpause_failure')}}.bind(this),'UFILiveStreaming fireWorksAnimatingTimeout',{isContinuation:false}),j)}else this.backFillComments();}.bind(this))}o.prototype.enqueueSubscribedComment=function(p,q){this.$UFILiveStreamingComments3(p);this.$UFILiveStreamingComments4(q)};o.prototype.enqueueSubscribedTipJarEvent=function(p,q){this.$UFILiveStreamingComments3({comments:[this.$UFILiveStreamingComments5(p,q)],streamingstate:c('UFIStreamingStateType').LIVE,priority:0})};o.prototype.$UFILiveStreamingComments1=function(p,q){if(this.liveVideoAnnouncements.length)return;var r=this.contextArgs.source===c('FeedbackSourceType').LIVE_VIDEO_STORIES?c('VideoAnnouncementSurface').STORIES:c('VideoAnnouncementSurface').POST,s=c('UFILiveVideoAnnouncementQueryWebGraphQLQuery').getURI({video_id:this.eftID,surface:r});new (c('AsyncRequest'))().setURI(s).setHandler(function(t){this.$UFILiveStreamingComments6(t.payload,q)}.bind(this)).send()};o.prototype.$UFILiveStreamingComments6=function(p,q){var r,s=p.data.video;if(!s){c('clearInterval')(this.liveVideoAnnouncementFetchInterval);c('clearInterval')(this.liveVideoAnnouncementRenderInterval);return}var t=s.announcements.edges;if(!t.length)return;(r=this.liveVideoAnnouncements).push.apply(r,t);if(!this.liveVideoAnnouncementRenderInterval){this.$UFILiveStreamingComments7();this.liveVideoAnnouncementRenderInterval=c('setInterval')(function(){this.$UFILiveStreamingComments7()}.bind(this),q||m)}};o.prototype.$UFILiveStreamingComments7=function(){if(this.liveVideoAnnouncements.length){var p=this.liveVideoAnnouncements.pop();this.$UFILiveStreamingComments3({comments:[this.$UFILiveStreamingComments8(p)],streamingstate:c('UFIStreamingStateType').LIVE,priority:0})}};o.prototype.$UFILiveStreamingComments2=function(p){var q=p.data.video;if(!q||q.broadcast_status!==c('VideoBroadcastStatus').LIVE){c('clearInterval')(this.liveVideoCurrentViewerFetchInterval);return}var r=q.live_video_current_viewers.edges;if(!r.length)return;var s=void 0,t=void 0,u=[];for(var v=r,w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y,aa=z.node.id;if(!this.liveVideoCachedCurrentViewers.has(aa)){if(!s){s=z.node.id;t=z.node.profile_picture.uri}u.push(z.node.name)}}for(var ba=r,ca=Array.isArray(ba),da=0,ba=ca?ba:ba[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ea;if(ca){if(da>=ba.length)break;ea=ba[da++]}else{da=ba.next();if(da.done)break;ea=da.value}var fa=ea,ga=fa.node.id;this.liveVideoCachedCurrentViewers.add(ga)}if(!s)return;var ha=this.$UFILiveStreamingComments9(s,t,u);this.$UFILiveStreamingComments3({comments:[ha],streamingstate:c('UFIStreamingStateType').LIVE,priority:0})};o.prototype.$UFILiveStreamingComments9=function(p,q,r){var s=false;if(!this.isViewerTheOwner&&!this.hasDisplayedFirstViewerJoinEvent){this.hasDisplayedFirstViewerJoinEvent=true;s=true}return {accentColor:null,ctaAction:'none',ctaGlyphName:null,ctaState:false,ctaTextOff:'',ctaTextOn:'',ftentidentifier:this.eftID,glyphName:null,id:this.eftID+p+'_'+this.liveVideoCurrentViewerFetchCounter,image:q,isAnnouncement:true,isJoinEvent:true,joinEventData:{isFirstViewerJoinEvent:s,isLiveAudio:this.isLiveAudio,newlyJoinedViewerNames:r},targetID:null}};o.prototype.$UFILiveStreamingComments5=function(p,q){var r=q.tip_jar_tip_event_subscribe.tip_jar_transaction;return {author:r.tip_giver.id,body:{text:h._("sent {The amount of the gift money}!",[h.param('The amount of the gift money',r.currency_quantity_tipped.formatted)])},cancomment:false,ftentidentifier:p.targetfbid,id:p.targetfbid+'_'+r.id,fbid:r.id,tipOptionIndex:r.tip_option_index.toString(),__typename:'saved'}};o.prototype.$UFILiveStreamingComments8=function(p){var q=p.node;return {accentColor:q.accent_color,body:{text:q.message},broadcastSubscriptionStatus:q.broadcast_subscription_status,ctaAction:q.cta_action,ctaGlyphName:q.cta_glyph,ctaState:q.cta_state,ctaTextOff:q.cta_text_off,ctaTextOn:q.cta_text_on,ftentidentifier:this.eftID,glyphName:q.glyph_name,id:this.eftID+q.name+q.level,image:q.image,isAnnouncement:true,isJoinEvent:false,targetID:q.target&&q.target.id}};o.prototype.$UFILiveStreamingComments3=function(p){if(this.resemblesLocalComment(p.comments[0]))return;this.tailCommentFBID=p.comments[0].fbid;this.queue.push(p);this.queue=o.pruneQueue(this.queue);if(this.queue.length===1&&this.mayShortCircuitRendering){c('BanzaiODS').bumpEntityKey('streaming_comments','short_circuit_render');c('clearInterval')(this.interval);this.renderNextComment();this.interval=c('setInterval')(function(){return this.renderNextComment()}.bind(this),c('UFILiveStreamingCommentsConfig').liveCommentRenderDelayMS)}};o.prototype.$UFILiveStreamingComments4=function(p){var q=p-this.queue.length;if(q>this.totalCommentCount){this.totalCommentCount=q;c('UFIToplevelStreamedCommentList').getCommentList(this.eftID).updateCommentCount(this.totalCommentCount)}};o.prototype.$UFILiveStreamingComments10=function(){var p=c('UFIToplevelStreamedCommentList').getCommentList(this.eftID);while(this.queue.length){var q=this.queue.shift();if(!p.hasComment(q.comments[0]))return q;}return null};o.prototype.renderNextComment=function(){var p=this.$UFILiveStreamingComments10();if(!p){this.mayShortCircuitRendering=true;return}if(this.fireworksAnimating){this.ufiPayloadBuffer.push(p)}else{c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.STREAMING,p);if(c('UFIConfig').shouldLogFacecastStreamingCommentDelay)new (c('FacecastStreamingCommentDelayTypedLogger'))().setCommentID(p.comments[0].fbid).setEvent('render').log();c('BanzaiODS').bumpEntityKey('feedback','facecast_live_comment_rendered')}this.mayShortCircuitRendering=false;if(c('CurrentUser').isLoggedIn()&&this.mayLogExposure){new (c('AsyncRequest'))().setURI(c('XLiveStreamingRankingExperimentAsyncController').getURIBuilder().setString('eft_id',this.eftID).getURI()).send();this.mayLogExposure=false}};o.prototype.backFillComments=function(){for(var p=this.ufiPayloadBuffer,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s;c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.STREAMING,t)}this.ufiPayloadBuffer=[]};o.prototype.getNextURI=function(){return c('XLiveStreamingCommentsAsyncController').getURIBuilder().setString('eft_id',this.eftID).getURI()};o.prototype.trackLocalComment=function(p){var q=o.hashCommentData(p);this.localCommentBodies.add(q)};o.prototype.resemblesLocalComment=function(p){if(p.isAnnouncement)return false;var q=o.hashCommentData(p);return this.localCommentBodies.has(q)};o.prototype.stopStream=function(){c('clearInterval')(this.interval);c('clearInterval')(this.healthLoggerInterval);c('clearInterval')(this.liveVideoAnnouncementFetchInterval);c('clearInterval')(this.liveVideoAnnouncementRenderInterval);if(this.subscription)this.subscription.unsubscribe();if(this.presenceToken)this.presenceToken.leave();};o.hashCommentData=function(p){var q=p.author;if(p.body)q+=':'+p.body.text;if(p.attachment)q+=':'+p.attachment.fbid;return q};o.pruneQueue=function(p){var q=p.length-c('UFIConfig').facecastWWWCommentQueueThreshold;if(q<=0)return p;var r=p.map(function(s,t){return {index:t,priority:s.priority}}).sort(function(s,t){var u=s.priority-t.priority;return u!==0?u:s.index-t.index}).map(function(s){return s.index}).slice(0,q);return p.filter(function(s,t){return r.indexOf(t)===-1})};o.start=function(p,q,r,s,t,u,v,w,x){var y=i.get(p),z=!y||!y.liveVideoAnnouncementFetchInterval&&s||!y.liveVideoCurrentViewerFetchInterval&&t;if(!z)return;if(y)y.stopStream();i.set(p,new o(p,q,r,s,t,u,v,w,x))};o.enqueueSubscribedComment=function(p,q,r){var s=i.get(p);if(!s)return;s.enqueueSubscribedComment(q,r)};o.enqueueSubscribedTipJarEvent=function(p,q){var r=i.get(p.targetfbid);if(!r)return;r.enqueueSubscribedTipJarEvent(p,q)};o.stop=function(p){var q=i.get(p);if(!q)return;q.stopStream()};f.exports=o}),null);
__d('LiveVideoEndScreenTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear()}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:LiveVideoEndScreenLoggerConfig',this.$LiveVideoEndScreenTypedLogger1,c('Banzai').BASIC)};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:LiveVideoEndScreenLoggerConfig',this.$LiveVideoEndScreenTypedLogger1,c('Banzai').VITAL)};h.prototype.clear=function(){this.$LiveVideoEndScreenTypedLogger1={};return this};h.prototype.updateData=function(j){this.$LiveVideoEndScreenTypedLogger1=babelHelpers['extends']({},this.$LiveVideoEndScreenTypedLogger1,j);return this};h.prototype.setEvent=function(j){this.$LiveVideoEndScreenTypedLogger1.event=j;return this};h.prototype.setVC=function(j){this.$LiveVideoEndScreenTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$LiveVideoEndScreenTypedLogger1.video_id=j;return this};var i={event:true,vc:true,video_id:true};f.exports=h}),null);
__d('AsyncFormRequestUtils',['Arbiter'],(function a(b,c,d,e,f,g){var h={subscribe:function i(j,k,l){c('Arbiter').subscribe('AsyncRequest/'+k,function(m,n){var o=n.request.relativeTo;if(o&&o===j)l(n);})}};f.exports=h}),null);
__d('ProfileTile.react',['Link.react','Image.react','ImageBlock.react','React','XUIText.react','URI'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=24;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.props.size||j,m=this.props.imageProps&&this.props.imageProps.src||'https://graph.facebook.com/'+this.props.id+'/picture?width='+l+'&height='+l,n=null;if(this.props.shouldShowProfileCardOnHover)n=new (c('URI'))('/ajax/hovercard/user.php').setQueryData({id:this.props.id});var o=this.props.desc?c('React').createElement(c('XUIText.react'),babelHelpers['extends']({display:'block'},this.props.descProps),this.props.desc):null,p=c('React').createElement('span',this.props.titleProps,this.props.name);if(this.props.shouldNameLinkToProfile)p=c('React').createElement(c('Link.react'),babelHelpers['extends']({'data-hovercard':n},this.props.titleProps,{href:this.props.titleProps&&this.props.titleProps.href||'/'+this.props.id}),this.props.name);var q=c('React').createElement(c('Image.react'),babelHelpers['extends']({src:m},this.props.imageProps)),r=this.props.shouldImageLinkToProfile?c('React').createElement(c('Link.react'),{href:'/'+this.props.id},q):q;return c('React').createElement(c('ImageBlock.react'),this.props.tileProps,r,c('React').createElement('div',null,p,o))};function k(){h.apply(this,arguments)}k.defaultProps={shouldShowProfileCardOnHover:true,shouldNameLinkToProfile:true};f.exports=k}),null);
__d("XLiveViewerAsyncDismissNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/viewer\/nux\/dismiss\/",{video_id:{type:"String"},source:{type:"String"}})}),null);
__d("XLiveWatchingAsyncNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/watching\/",{video_id:{type:"String"},source:{type:"String"},unmuted:{type:"Bool",defaultValue:true}})}),null);
__d('LiveVideoIndicatorOverlay',['csx','cx','invariant','CSS','DOM','SubscriptionsHandler','AsyncRequest','XLiveViewerAsyncDismissNuxController','Event','XLiveWatchingAsyncNuxController','Run','VideoPlayerLoggerSource'],(function a(b,c,d,e,f,g,h,i,j){var k=false;function l(m,n,o,p,q,r){var s,t=this;'use strict';this.$LiveVideoIndicatorOverlay4=m;this.$LiveVideoIndicatorOverlay1=n;this.$LiveVideoIndicatorOverlay2=o;this.$LiveVideoIndicatorOverlay5=p;this.$LiveVideoIndicatorOverlay6=m.getVideoID();this.$LiveVideoIndicatorOverlay7=q;this.$LiveVideoIndicatorOverlay8=false;this.$LiveVideoIndicatorOverlay3=new (c('SubscriptionsHandler'))();this.$LiveVideoIndicatorOverlay3.addSubscriptions(m.addListener('streamInterrupted',this.$LiveVideoIndicatorOverlay9.bind(this)),m.addListener('streamResumed',this.$LiveVideoIndicatorOverlay10.bind(this)),m.addListener('finishPlayback',this.$LiveVideoIndicatorOverlay11.bind(this)),m.addListener('VideoWithLiveBroadcast/viewCountChange',this.$LiveVideoIndicatorOverlay12.bind(this)),m.addListener('beginPlayback',this.$LiveVideoIndicatorOverlay13.bind(this)),m.addListener('VideoChannelController/enterChannel',this.$LiveVideoIndicatorOverlay14.bind(this)),m.addListener('VideoChannelController/exitChannel',this.$LiveVideoIndicatorOverlay15.bind(this)),m.addListener('TahoeController/enterTahoe',this.$LiveVideoIndicatorOverlay16.bind(this)),m.addListener('TahoeController/exitTahoe',this.$LiveVideoIndicatorOverlay17.bind(this)));if(this.$LiveVideoIndicatorOverlay5!=null){var s=function(){t.$LiveVideoIndicatorOverlay5!=null||j(0);var u=c('DOM').scry(t.$LiveVideoIndicatorOverlay5.getContentRoot(),"._36gl")[0];if(!u)return {v:void 0};var v=c('Event').listen(u,'click',function(){if(v){v.remove();v=null}new (c('AsyncRequest'))().setAllowCrossPageTransition().setURI(c('XLiveViewerAsyncDismissNuxController').getURIBuilder().getURI()).setData({video_id:this.$LiveVideoIndicatorOverlay6,source:this.$LiveVideoIndicatorOverlay4.getSource()}).setHandler(function(){k=true}).send()}.bind(t))}();if(typeof s==="object")return s.v;}if(r==='tahoe')this.$LiveVideoIndicatorOverlay16();c('Run').onLeave(function(){return this.$LiveVideoIndicatorOverlay3.release()}.bind(this))}l.prototype.$LiveVideoIndicatorOverlay18=function(){'use strict';var m=this.$LiveVideoIndicatorOverlay4.getSource();if(m==c('VideoPlayerLoggerSource').CHANNEL||m==c('VideoPlayerLoggerSource').SNOWLIFT||m==c('VideoPlayerLoggerSource').PERMALINK)return true;return false};l.prototype.$LiveVideoIndicatorOverlay13=function(){'use strict';if(this.$LiveVideoIndicatorOverlay7||this.$LiveVideoIndicatorOverlay18())setTimeout(function(){return this.$LiveVideoIndicatorOverlay19()}.bind(this),l.DELAY_TO_SHOW_WATCHING_NUX*1000);};l.prototype.$LiveVideoIndicatorOverlay16=function(){'use strict';this.$LiveVideoIndicatorOverlay8=true;this.$LiveVideoIndicatorOverlay7=true;this.$LiveVideoIndicatorOverlay20();var m=this.$LiveVideoIndicatorOverlay5;if(m){m.setOffsetX(65);m.setOffsetY(80)}};l.prototype.$LiveVideoIndicatorOverlay17=function(){'use strict';this.$LiveVideoIndicatorOverlay8=false;this.$LiveVideoIndicatorOverlay7=false;this.$LiveVideoIndicatorOverlay21();this.$LiveVideoIndicatorOverlay22()};l.prototype.$LiveVideoIndicatorOverlay14=function(){'use strict';this.$LiveVideoIndicatorOverlay7=true};l.prototype.$LiveVideoIndicatorOverlay15=function(){'use strict';this.$LiveVideoIndicatorOverlay7=false;this.$LiveVideoIndicatorOverlay21()};l.prototype.$LiveVideoIndicatorOverlay19=function(){'use strict';if(this.$LiveVideoIndicatorOverlay5&&!k)this.$LiveVideoIndicatorOverlay5.show();new (c('AsyncRequest'))().setAllowCrossPageTransition().setURI(c('XLiveWatchingAsyncNuxController').getURIBuilder().getURI()).setData({video_id:this.$LiveVideoIndicatorOverlay6,source:this.$LiveVideoIndicatorOverlay4.getSource(),unmuted:!this.$LiveVideoIndicatorOverlay4.isMuted()}).send()};l.prototype.$LiveVideoIndicatorOverlay9=function(){'use strict';this.$LiveVideoIndicatorOverlay20()};l.prototype.$LiveVideoIndicatorOverlay10=function(){'use strict';this.$LiveVideoIndicatorOverlay22()};l.prototype.$LiveVideoIndicatorOverlay20=function(){'use strict';c('CSS').removeClass(this.$LiveVideoIndicatorOverlay1,"_3rno")};l.prototype.$LiveVideoIndicatorOverlay22=function(){'use strict';if(this.$LiveVideoIndicatorOverlay4.isState('finished')||this.$LiveVideoIndicatorOverlay8)return;c('CSS').addClass(this.$LiveVideoIndicatorOverlay1,"_3rno")};l.prototype.$LiveVideoIndicatorOverlay11=function(){'use strict';this.$LiveVideoIndicatorOverlay20();this.$LiveVideoIndicatorOverlay21()};l.prototype.$LiveVideoIndicatorOverlay21=function(){'use strict';if(this.$LiveVideoIndicatorOverlay5&&this.$LiveVideoIndicatorOverlay5.isShown())this.$LiveVideoIndicatorOverlay5.hide();};l.prototype.$LiveVideoIndicatorOverlay12=function(m){'use strict';if(this.$LiveVideoIndicatorOverlay8)return;var n=c('DOM').replace(this.$LiveVideoIndicatorOverlay2,m);this.$LiveVideoIndicatorOverlay2=n&&n[0]};l.DELAY_TO_SHOW_WATCHING_NUX=8;f.exports=l}),null);
__d("VideoBroadcastSubscriptionAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUBSCRIBE:"subscribe",SUBSCRIBE_SUGGESTED:"subscribe_suggested",UNSUBSCRIBE:"unsubscribe"})}),null);
__d('VideoRightButtonBase',['cx','csx','AsyncFormRequestUtils','CSS','DOM','Event','FormSubmit','LayerRefocusOnHide','Run','SubscriptionsHandler','throttle'],(function a(b,c,d,e,f,g,h,i){function j(k,l,m,n,o,p,q,r){'use strict';this.$VideoRightButtonBase1=[];this.$VideoRightButtonBase2=l;this.$VideoRightButtonBase3=p;this.$VideoRightButtonBase4=o;this.$VideoRightButtonBase5=k;this.$VideoRightButtonBase6=q.hiddenAfterFinish;this.$VideoRightButtonBase7=q.hiddenWhilePaused;this.$VideoRightButtonBase8=q.allowHide;this.$VideoRightButtonBase9=new (c('SubscriptionsHandler'))();this.$VideoRightButtonBase10=false;this.$VideoRightButtonBase11=false;this.$VideoRightButtonBase12=false;this.$VideoRightButtonBase13=r;this.$VideoRightButtonBase14=false;if(this.$VideoRightButtonBase13){this.$VideoRightButtonBase13.disableBehavior(c('LayerRefocusOnHide'));var s=c('DOM').scry(this.$VideoRightButtonBase13.getContentRoot(),"._36gl")[0];if(s)c('Event').listen(s,'click',function(){this.$VideoRightButtonBase14=false;this.$VideoRightButtonBase13=null;this.nuxViewClicked()}.bind(this));this.$VideoRightButtonBase13.subscribe('hide',function(){if(this.$VideoRightButtonBase14)this.nuxViewHidden();this.$VideoRightButtonBase14=false;this.$VideoRightButtonBase13=null}.bind(this))}}j.prototype.setupAllHandlers=function(){'use strict';this.$VideoRightButtonBase9=new (c('SubscriptionsHandler'))();var k=this.$VideoRightButtonBase5.getRootNode();c('Run').onLeave(function(){this.$VideoRightButtonBase9.release()}.bind(this));this.$VideoRightButtonBase9.addSubscriptions(c('Event').listen(k,'mousemove',c('throttle')(function(){return this.$VideoRightButtonBase15()}.bind(this),200)),c('Event').listen(k,'mouseenter',function(){if(this.$VideoRightButtonBase6&&this.$VideoRightButtonBase11||this.$VideoRightButtonBase7&&this.$VideoRightButtonBase12)return;this.$VideoRightButtonBase16=true;this.$VideoRightButtonBase15();if(this.$VideoRightButtonBase13){this.$VideoRightButtonBase13.show();this.$VideoRightButtonBase14=true}}.bind(this)),c('Event').listen(k,'mouseleave',function(){this.$VideoRightButtonBase17();this.$VideoRightButtonBase16=false}.bind(this)),this.$VideoRightButtonBase5.addListener('beginPlayback',function(){this.$VideoRightButtonBase11=false;this.$VideoRightButtonBase12=false}.bind(this)),this.$VideoRightButtonBase5.addListener('finishPlayback',function(){this.$VideoRightButtonBase17();this.$VideoRightButtonBase11=true}.bind(this)),this.$VideoRightButtonBase5.addListener('pausePlayback',function(){this.$VideoRightButtonBase17();this.$VideoRightButtonBase12=true}.bind(this)));c('Event').listen(this.$VideoRightButtonBase2,'click',function(){if(this.$VideoRightButtonBase18)clearTimeout(this.$VideoRightButtonBase18);if(this.$VideoRightButtonBase1.length===0){this.$VideoRightButtonBase3.setAttribute('value',this.nextActionOnToggle(this.$VideoRightButtonBase10));c('FormSubmit').send(this.$VideoRightButtonBase4)}if(this.$VideoRightButtonBase10){this.toggleSwitchOffAnimation(this.$VideoRightButtonBase2);this.$VideoRightButtonBase1.push(false);this.$VideoRightButtonBase10=false}else{this.toggleSwitchOnAnimation(this.$VideoRightButtonBase2);this.$VideoRightButtonBase1.push(true);this.$VideoRightButtonBase10=true}}.bind(this));var l=function(m){var n=this.$VideoRightButtonBase3.getAttribute('value')===this.nextActionOnToggle(true);if(this.$VideoRightButtonBase1.length>1){var o=this.$VideoRightButtonBase1[this.$VideoRightButtonBase1.length-1],p=o;if(n&&!p||!n&&p){this.$VideoRightButtonBase3.setAttribute('value',this.nextActionOnToggle(p));c('FormSubmit').send(this.$VideoRightButtonBase4)}}this.$VideoRightButtonBase1=[]}.bind(this);c('AsyncFormRequestUtils').subscribe(this.$VideoRightButtonBase4,'response',l)};j.prototype.$VideoRightButtonBase17=function(){'use strict';if(!this.$VideoRightButtonBase14&&this.$VideoRightButtonBase8)c('CSS').addClass(this.$VideoRightButtonBase2,"_55c1");};j.prototype.$VideoRightButtonBase15=function(){'use strict';if(this.$VideoRightButtonBase16){c('CSS').removeClass(this.$VideoRightButtonBase2,"_55c1");clearTimeout(this.$VideoRightButtonBase19);this.$VideoRightButtonBase19=setTimeout(function(){return this.$VideoRightButtonBase17()}.bind(this),3000)}};j.prototype.toggleSwitchOnAnimation=function(){'use strict';throw new Error('This should be overwritten by children')};j.prototype.toggleSwitchOffAnimation=function(){'use strict';throw new Error('This should be overwritten by children')};j.prototype.nextActionOnToggle=function(k){'use strict';throw new Error('This should be overwritten by children')};j.prototype.nuxViewClicked=function(){'use strict';throw new Error('This should be overwritten by children')};j.prototype.nuxViewHidden=function(){'use strict';throw new Error('This should be overwritten by children')};f.exports=j}),null);
__d("XLiveSubscribeAsyncNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/subscribe\/nux\/",{action:{type:"String"},video_id:{type:"String"}})}),null);
__d('VideoLiveFollowButton',['cx','fbt','AsyncRequest','VideoRightButtonBase','CSS','VideoBroadcastSubscriptionAction','DOM','XLiveSubscribeAsyncNuxController'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('VideoRightButtonBase'));k=j&&j.prototype;function l(m,n,o,p,q,r,s,t,u,v){'use strict';k.constructor.call(this,m,n,o,q,r,s,t,v);this.$VideoLiveFollowButton1=o;this.$VideoLiveFollowButton2=q;this.$VideoLiveFollowButton3=p;this.$VideoLiveFollowButton4=s.getAttribute('value')===c('VideoBroadcastSubscriptionAction').UNSUBSCRIBE;if(this.$VideoLiveFollowButton4){this.setSwitchOnState(n)}else this.setSwitchOffState(n);this.$VideoLiveFollowButton5=m.getVideoID();this.setupAllHandlers();this.$VideoLiveFollowButton6=u}l.prototype.nuxViewClicked=function(){'use strict';this.sendNuxSeenRequest('dismiss')};l.prototype.sendNuxSeenRequest=function(m){'use strict';new (c('AsyncRequest'))().setURI(c('XLiveSubscribeAsyncNuxController').getURIBuilder().getURI()).setData({action:m,video_id:this.$VideoLiveFollowButton5}).send()};l.prototype.nuxViewHidden=function(){'use strict';this.sendNuxSeenRequest('hide')};l.prototype.setSwitchOffState=function(m){'use strict';var n=i._("Live Notifications");c('CSS').removeClass(m,"_-kc");c('CSS').show(this.$VideoLiveFollowButton3);c('CSS').removeClass(this.$VideoLiveFollowButton1,"_knu");c('DOM').setContent(this.$VideoLiveFollowButton2,n)};l.prototype.setSwitchOnState=function(m){'use strict';var n=i._("Live Notifications");c('CSS').addClass(m,"_-kc");c('CSS').hide(this.$VideoLiveFollowButton3);c('CSS').addClass(this.$VideoLiveFollowButton1,"_knu");c('DOM').setContent(this.$VideoLiveFollowButton2,n)};l.prototype.nextActionOnToggle=function(m){'use strict';if(m){return c('VideoBroadcastSubscriptionAction').UNSUBSCRIBE}else return c('VideoBroadcastSubscriptionAction').SUBSCRIBE;};l.prototype.toggleSwitchOnAnimation=function(m){'use strict';this.setSwitchOnState(m)};l.prototype.toggleSwitchOffAnimation=function(m){'use strict';this.setSwitchOffState(m)};f.exports=l}),null);
__d('LiveVideoEndScreenCTAs.react',['cx','ProfileTile.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=130;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.$LiveVideoEndScreenCTAs1=function(){return c('React').createElement('div',{className:"_2219"},c('React').createElement('div',{className:"_221a"},c('React').createElement(c('ProfileTile.react'),{id:this.props.ownerID,imageProps:{className:"_2240"},size:k})),c('React').createElement('div',{className:"_2241"},this.props.ownerName))};l.prototype.render=function(){if(!this.props.shouldShow)return null;return this.$LiveVideoEndScreenCTAs1()};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d('LiveVideoEndScreenConstants',[],(function a(b,c,d,e,f,g){'use strict';var h={ACTIONS:{SET_THUMBNAILS:'SET_THUMBNAILS'}};f.exports=h}),null);
__d('LiveVideoEndScreenDispatcher',['ExplicitRegistrationReactDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ExplicitRegistrationReactDispatcher'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("XLiveVideoTopBroadcastThumbnailController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video_broadcast\/top_broadcast_thumbnails\/",{video_id:{type:"FBID"},thumbnail_count:{type:"Int",defaultValue:2}})}),null);
__d('LiveVideoEndScreenThumbnails.react',['AsyncRequest','DOMContainer.react','React','VideoPlayerLoggerSource','XLiveVideoTopBroadcastThumbnailController'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);var l=c('XLiveVideoTopBroadcastThumbnailController').getURIBuilder().setFBID('video_id',this.props.videoController.getVideoID()).setInt('thumbnail_count',3).getURI();new (c('AsyncRequest'))(l).send()}j.prototype.$LiveVideoEndScreenThumbnails1=function(){if(!this.props.thumbnails)return null;var k=[];for(var l=this.props.thumbnails,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}var p=o;k.push(c('React').createElement(c('DOMContainer.react'),{key:p.href},p))}return k};j.prototype.render=function(){if(this.props.videoController.getIsInChannel()||this.props.videoController.getSource()===c('VideoPlayerLoggerSource').WATCH_SCROLL)return null;return c('React').createElement('div',null,this.$LiveVideoEndScreenThumbnails1())};f.exports=j}),null);
__d('LiveVideoEndScreenUIStore',['FluxMapStore','immutable','LiveVideoEndScreenConstants','LiveVideoEndScreenDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('LiveVideoEndScreenConstants').ACTIONS;h=babelHelpers.inherits(k,c('FluxMapStore'));i=h&&h.prototype;k.prototype.getInitialState=function(){return c('immutable').Map({thumbnails:null})};k.prototype.reduce=function(l,m){switch(m.type){case j.SET_THUMBNAILS:l=l.set('thumbnails',m.value);break;default:break;}return l};function k(){h.apply(this,arguments)}f.exports=new k(c('LiveVideoEndScreenDispatcher'))}),null);
__d('LiveVideoEndScreenThumbnailsContainer.react',['FluxContainer','LiveVideoEndScreenDispatcher','LiveVideoEndScreenThumbnails.react','LiveVideoEndScreenUIStore','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){return [c('LiveVideoEndScreenUIStore')]};j.calculateState=function(k,l){var m=c('LiveVideoEndScreenUIStore').getState().toObject(),n=m.thumbnails;return {thumbnails:n}};function j(k){i.constructor.call(this,k);c('LiveVideoEndScreenDispatcher').explicitlyRegisterStores([c('LiveVideoEndScreenUIStore')])}j.prototype.render=function(){return c('React').createElement(c('LiveVideoEndScreenThumbnails.react'),{thumbnails:this.state.thumbnails,videoController:this.props.videoController})};f.exports=c('FluxContainer').create(j,{withProps:true})}),null);
__d("LiveVideoEndScreenEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SCREEN_SHOWN:"screen_shown"})}),null);
__d('VideoLiveEndscreen',['CSS','LiveVideoEndScreenThumbnailsContainer.react','React','ReactDOM','SubscriptionsHandler','LiveVideoEndScreenCTAs.react','LiveMapEntryPointsLoggerController','LiveVideoEndScreenEvent','LiveVideoEndScreenTypedLogger'],(function a(b,c,d,e,f,g){function h(i,j,k,l,m,n,o){'use strict';this.$VideoLiveEndscreen3=i;this.$VideoLiveEndscreen1=j;this.$VideoLiveEndscreen4=k;this.$VideoLiveEndscreen5=l;this.$VideoLiveEndscreen6=m;this.$VideoLiveEndscreen7=n;this.$VideoLiveEndscreen8=o;this.$VideoLiveEndscreen2=new (c('SubscriptionsHandler'))();this.$VideoLiveEndscreen2.addSubscriptions(i.addListener('beginPlayback',this.$VideoLiveEndscreen9.bind(this)),i.addListener('finishPlayback',this.$VideoLiveEndscreen10.bind(this)),i.addListener('playRequested',this.$VideoLiveEndscreen11.bind(this)),i.addListener('VideoChannelController/exitChannel',this.$VideoLiveEndscreen12.bind(this)));i.registerOption('VideoLiveEndscreen','enabled',function(){return true})}h.prototype.$VideoLiveEndscreen9=function(){'use strict';c('CSS').hide(this.$VideoLiveEndscreen1)};h.prototype.$VideoLiveEndscreen10=function(){'use strict';if(this.$VideoLiveEndscreen4)c('LiveMapEntryPointsLoggerController').logEndscreenImpression();new (c('LiveVideoEndScreenTypedLogger'))().setEvent(c('LiveVideoEndScreenEvent').SCREEN_SHOWN).log();c('CSS').show(this.$VideoLiveEndscreen1);if(this.$VideoLiveEndscreen5)c('ReactDOM').render(c('React').createElement(c('LiveVideoEndScreenThumbnailsContainer.react'),{videoController:this.$VideoLiveEndscreen3}),this.$VideoLiveEndscreen5);if(this.$VideoLiveEndscreen8)c('ReactDOM').render(c('React').createElement(c('LiveVideoEndScreenCTAs.react'),{ownerID:this.$VideoLiveEndscreen6,ownerName:this.$VideoLiveEndscreen7,shouldShow:this.$VideoLiveEndscreen3.getIsInChannel()}),this.$VideoLiveEndscreen8);};h.prototype.$VideoLiveEndscreen11=function(){'use strict';c('CSS').hide(this.$VideoLiveEndscreen1)};h.prototype.$VideoLiveEndscreen12=function(){'use strict';if(this.$VideoLiveEndscreen8)c('ReactDOM').unmountComponentAtNode(this.$VideoLiveEndscreen8);};f.exports=h}),null);
__d('VideoLiveInterruptedScreen',['CSS','SubscriptionsHandler'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';this.$VideoLiveInterruptedScreen3=i;this.$VideoLiveInterruptedScreen1=j;this.$VideoLiveInterruptedScreen2=new (c('SubscriptionsHandler'))();this.$VideoLiveInterruptedScreen2.addSubscriptions(i.addListener('streamInterrupted',this.$VideoLiveInterruptedScreen4.bind(this)),i.addListener('streamResumed',this.$VideoLiveInterruptedScreen5.bind(this)))}h.prototype.$VideoLiveInterruptedScreen4=function(){'use strict';c('CSS').show(this.$VideoLiveInterruptedScreen1)};h.prototype.$VideoLiveInterruptedScreen5=function(){'use strict';c('CSS').hide(this.$VideoLiveInterruptedScreen1)};f.exports=h}),null);